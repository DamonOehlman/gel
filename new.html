<!DOCTYPE html>
<html>
<head>
    <title>expression tester</title>
    <script>
        window.gaffa =  {

            model : {
                array : [1, 2, 3],
                prop : 15,
                prop2 : 10,
                empty: {},
                get: function (path) {
                    // slice of []
                    path = path.slice(1,-1);
                    var index = path.indexOf("model/");
                    if (index >= 0) {
                        path = path.substring(index + 6);
                    }
                    return this[path];
                }
            }
        };
    </script>
    <script src="gel.js" type="text/javascript"></script>                
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    
    <script>
        var gel = new Gel();
        
        console.log(gel.evaluate('myArray.length',{
            myArray:[1,2,3]
        }));
        
        console.log(gel.evaluate('(map myArray double)',{myArray:[1,2,3]}));
        console.log(gel.evaluate('('));
        
    </script>
    <style type="text/css">
        textarea {
            width: 90%;
            height:250px;
        }

        td, th {
            padding: 3px;
        }

        .pass {
            background-color:#b6ff00;
        }

        .fail {
            background-color: #ff6b6b;
            
        }
		
		.results{
			font-size:2em;
		}
        
    </style>
</head>
<body>
    <h1>Expression tester</h1>
    <textarea class="expressions"></textarea>
    <br />
    <button class="run">Run</button>   <br />
    <pre class="results"></pre>

    <table id="initialtests">
        <thead>
            <tr>
                <th>Id</th><th>Input</th><th>Actual</th><th>Expected</th><th>Exception</th>
            </tr>
        </thead>
        <tbody class="failedTests">

        </tbody>
        <tbody class="passedTests">

        </tbody>
    </table>
</body>
</html>
